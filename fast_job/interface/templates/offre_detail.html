{% extends 'base.html' %}
{% load static %}
{% block body_class %}offre-detail{% endblock %}
{% block content %}
    <div class="container mt-4">
        <div class="row">
            <div class="col-md-12 text-center">
                <div class="mb-4">
                    {% if offre.entreprise_logo %}
                        <img src="{{ offre.entreprise_logo }}" alt="Logo de l'entreprise" class="img-fluid rounded" style="max-width: 200px;">
                    {% endif %}
                    {% if offre.entreprise_nom %}
                        <h1 class="mt-3">{{ offre.entreprise_nom }}</h1>
                    {% endif %}
                </div>

                <div class="d-flex justify-content-center align-items-center flex-column">
                    <div class="mb-4">
                        {% if offre.description %}
                            <h2 class="mt-3">{{ offre.intitule }}</h2>
                            <p>{{ offre.description }}</p>
                        {% endif %}
                    </div>
                </div>

                <table class="table table-bordered mt-3">
                    <tbody>
                        <tr>
                            <th>Date de publication</th>
                            <td>{{ offre.dateCreation }}</td>
                        </tr>
                        <tr>
                            <th>Lieu de travail</th>
                            <td>{{ offre.lieuTravail_libelle }}</td>
                        </tr>
                        <tr>
                            <th>Type de contrat</th>
                            <td>{{ offre.typeContrat}}  {{ offre.typeContratLibelle }}</td>
                        </tr>
                        {% if offre.entreprise_description %}
                            <tr>
                                <th>Description de l'entreprise</th>
                                <td>{{ offre.entreprise_description }}</td>
                            </tr>
                        {% endif %}
                        <tr>
                            <th>Salaire</th>
                            <td>
                                {% if offre.salaire_libelle %}
                                    {{ offre.salaire_libelle }}
                                {% endif %}
                                {% if offre.salaire_complement1 %}
                                    {{ offre.salaire_complement1 }}
                                {% endif %}
                            </td>
                        </tr>
                        <tr>
                            <th>Secteur d'activité</th>
                            <td>{{ offre.secteurActiviteLibelle }}</td>
                        </tr>
                        <tr>
                            <th>Domaine</th>
                            <td>{{ offre.romeLibelle }}</td>
                        </tr>
                        <tr>
                            <th>Durée du travail</th>
                            <td>{{ offre.dureeTravailLibelleConverti }}</td>
                        </tr>
                        {% if offre.experienceLibelle %}
                            <tr>
                                <th>Expérience requise</th>
                                <td>{{ offre.experienceLibelle }}</td>
                            </tr>
                        {% endif %}
                        {% if offre.contact_nom %}
                            <tr>
                                <th>Contact</th>
                                <td>{{ offre.contact_nom }}</td>
                            </tr>
                        {% endif %}
                        {% if offre.contact_urlPostulation %}
                            <tr>
                                <th>Coordonnées / Site de postulation</th>
                                <td><a href="{{ offre.contact_urlPostulation }}" target="_blank">{{ offre.contact_urlPostulation }}</a></td>
                            </tr>
                        {% endif %}
                    </tbody>
                </table>

                <div class="mt-4">
                    <a href="{{ offre.origineOffre_urlOrigine }}" class="btn btn-success" target="_blank">Postuler</a>
                    <a href="{% url 'home' %}" class="btn btn-info ml-3" style="color: white;">Retour à la liste des offres</a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}
